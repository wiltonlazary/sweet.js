{"version":3,"sources":["parse-reducer.js"],"names":[],"mappings":"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","file":"parse-reducer.js","sourcesContent":["import Term from \"./terms\";\nimport { CloneReducer } from \"shift-reducer\";\n\nexport default class ParseReducer extends CloneReducer {\n  reduceModule(node, state) {\n    return new Term(\"Module\", {\n      directives: state.directives.toArray(),\n      items: state.items.toArray()\n    });\n  }\n\n  reduceImport(node, state) {\n    let moduleSpecifier = state.moduleSpecifier ? state.moduleSpecifier.val() : null;\n    return new Term('Import', {\n      defaultBinding: state.defaultBinding,\n      namedImports: state.namedImports.toArray(),\n      moduleSpecifier,\n      forSyntax: node.forSyntax\n    });\n  }\n\n  reduceImportNamespace(node, state) {\n    let moduleSpecifier = state.moduleSpecifier ? state.moduleSpecifier.val() : null;\n    return new Term('ImportNamespace', {\n      defaultBinding: state.defaultBinding,\n      namespaceBinding: state.namespaceBinding,\n      moduleSpecifier,\n      forSyntax: node.forSyntax\n    });\n  }\n\n  reduceExport(node, state) {\n    return new Term('Export', {\n      declaration: state.declaration\n    });\n  }\n\n  reduceExportAllFrom(node, state) {\n    let moduleSpecifier = state.moduleSpecifier ? state.moduleSpecifier.val() : null;\n    return new Term('ExportAllFrom', { moduleSpecifier });\n  }\n\n  reduceExportFrom(node, state) {\n    let moduleSpecifier = state.moduleSpecifier ? state.moduleSpecifier.val() : null;\n    return new Term('ExportFrom', {\n      moduleSpecifier,\n      namedExports: state.namedExports.toArray()\n    });\n  }\n\n  reduceExportSpecifier(node, state) {\n    let name = state.name, exportedName = state.exportedName;\n    if (name == null) {\n      name = exportedName.resolve();\n      exportedName = exportedName.val();\n    } else {\n      name = name.resolve();\n      exportedName = exportedName.val();\n    }\n    return new Term('ExportSpecifier', {\n      name, exportedName\n    });\n  }\n\n  reduceImportSpecifier(node, state) {\n    let name = state.name ? state.name.resolve() : null;\n    return new Term('ImportSpecifier', {\n      name,\n      binding: state.binding\n    });\n  }\n\n  reduceIdentifierExpression(node, state) {\n    return new Term(\"IdentifierExpression\", {\n      name: node.name.resolve()\n    });\n  }\n\n  reduceLiteralNumericExpression(node, state) {\n    return new Term(\"LiteralNumericExpression\", {\n      value: node.value.val()\n    });\n  }\n\n  reduceLiteralBooleanExpression(node, state) {\n    return new Term(\"LiteralBooleanExpression\", {\n      value: node.value.val() === 'true'\n    });\n  }\n\n  reduceLiteralStringExpression(node, state) {\n    return new Term(\"LiteralStringExpression\", {\n      value: node.value.token.str\n    });\n  }\n\n  reduceCallExpression(node, state) {\n    return new Term(\"CallExpression\", {\n      callee: state.callee,\n      arguments: state.arguments.toArray()\n    });\n  }\n\n  reduceFunctionBody(node, state) {\n    return new Term(\"FunctionBody\", {\n      directives: state.directives.toArray(),\n      statements: state.statements.toArray()\n    });\n  }\n\n  reduceFormalParameters(node, state) {\n    return new Term(\"FormalParameters\", {\n      items: state.items.toArray(),\n      rest: state.rest\n    });\n  }\n\n  reduceBindingIdentifier(node, state) {\n    return new Term(\"BindingIdentifier\", {\n      name: node.name.resolve()\n    });\n  }\n\n  reduceBinaryExpression(node, state) {\n    return new Term(\"BinaryExpression\", {\n      left: state.left,\n      operator: node.operator.val(),\n      right: state.right\n    });\n  }\n\n  reduceObjectExpression(node, state) {\n    return new Term(\"ObjectExpression\", {\n      properties: state.properties.toArray()\n    });\n  }\n\n  reduceVariableDeclaration(node, state) {\n    return new Term(\"VariableDeclaration\", {\n      kind: state.kind,\n      declarators: state.declarators.toArray()\n    });\n  }\n\n  reduceStaticPropertyName(node, state) {\n    return new Term(\"StaticPropertyName\", {\n      value: node.value.val().toString()\n    });\n  }\n\n  reduceArrayExpression(node, state) {\n    return new Term(\"ArrayExpression\", {\n      elements: state.elements.toArray()\n    });\n  }\n\n  reduceStaticMemberExpression(node, state) {\n    return new Term(\"StaticMemberExpression\", {\n      object: state.object,\n      property: state.property.val()\n    });\n  }\n\n}\n"],"sourceRoot":"/source/"}